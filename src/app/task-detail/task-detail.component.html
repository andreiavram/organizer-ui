<div class="container">
  <div *ngIf="task">
    <div class="row">
      <div class="col-11">
        <h1 class="display-1" [ngClass]="{'text-decoration-line-through': task.completed}">
          <input id="task-title" class="task-title form-control" [disabled]="!editMode" [(ngModel)]="task.title" placeholder="title">
        </h1>

      </div>
      <div class="col-1">
        <div class="btn-group" role="toolbar" aria-label="task toolbar">
          <button type="button" [ngClass]="{'btn-outline-primary': !editMode, 'btn-primary': editMode}" class="btn btn-outline-primary" (click)="toggleEditMode()">
            <svg class="bi" width="12" height="12" role="img" aria-label="Edit">
              <use xlink:href="bootstrap-icons/bootstrap-icons.svg#pencil"></use>
            </svg>
          </button>
          <button type="button" class ="btn btn-outline-primary">
            <svg class="bi" width="12" height="12" role="img" aria-label="Toggle completed">
              <use *ngIf="!task.completed" xlink:href="bootstrap-icons/bootstrap-icons.svg#square"></use>
              <use *ngIf="task.completed" xlink:href="bootstrap-icons/bootstrap-icons.svg#check-square"></use>
            </svg>
          </button>

          <button type="button" class="btn btn-outline-danger">
            <svg class="bi" width="12" height="12" role="img" aria-label="Trashcan">
              <use xlink:href="bootstrap-icons/bootstrap-icons.svg#trash"></use>
            </svg>
          </button>
        </div>
      </div>
    </div>
    <div class="row">
      <p>{{ task.description }}</p>
    </div>

    <div>
      <span *ngFor="let tag of task._tags" style="background-color: {{ tag.color }}; color: {{ tag | tagColor }}"
            class="badge me-1 tag">{{ tag.name }}</span>
      <tag-input identifyBy="id" displayBy="name" [(ngModel)]="task._tags" [onlyFromAutocomplete]="true">
        <tag-input-dropdown [autocompleteObservable]="searchTags" [showDropdownIfEmpty]="true" displayBy="name" identifyBy="id" >
        </tag-input-dropdown>
      </tag-input>
    </div>
    <div>
    </div>
  </div>
</div>
